{"remainingRequest":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\babel-loader\\lib\\index.js!C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\src\\store\\modules\\memberStore.js","dependencies":[{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\src\\store\\modules\\memberStore.js","mtime":1637484140719},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\babel.config.js","mtime":1637484043285},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637484063101},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\babel-loader\\lib\\index.js","mtime":1637484054320},{"path":"C:\\SSAFY\\FinalPJT\\web_project_ssafy\\web_ssafy\\node_modules\\eslint-loader\\index.js","mtime":1637484089992}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1NTQUZZL0ZpbmFsUEpUL3dlYl9wcm9qZWN0X3NzYWZ5L3dlYl9zc2FmeS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmltcG9ydCB7IGxvZ2luIH0gZnJvbSAiQC9hcGkvbWVtYmVyLmpzIjsKaW1wb3J0IHsgZmluZEJ5SWQgfSBmcm9tICIuLi8uLi9hcGkvbWVtYmVyIjsKdmFyIG1lbWJlclN0b3JlID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGlzTG9naW46IGZhbHNlLAogICAgaXNMb2dpbkVycm9yOiBmYWxzZSwKICAgIHVzZXJJbmZvOiBudWxsCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBjaGVja1VzZXJJbmZvOiBmdW5jdGlvbiBjaGVja1VzZXJJbmZvKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VySW5mbzsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX0lTX0xPR0lOOiBmdW5jdGlvbiBTRVRfSVNfTE9HSU4oc3RhdGUsIGlzTG9naW4pIHsKICAgICAgc3RhdGUuaXNMb2dpbiA9IGlzTG9naW47CiAgICB9LAogICAgU0VUX0lTX0xPR0lOX0VSUk9SOiBmdW5jdGlvbiBTRVRfSVNfTE9HSU5fRVJST1Ioc3RhdGUsIGlzTG9naW5FcnJvcikgewogICAgICBzdGF0ZS5pc0xvZ2luRXJyb3IgPSBpc0xvZ2luRXJyb3I7CiAgICB9LAogICAgU0VUX1VTRVJfSU5GTzogZnVuY3Rpb24gU0VUX1VTRVJfSU5GTyhzdGF0ZSwgdXNlckluZm8pIHsKICAgICAgc3RhdGUuaXNMb2dpbiA9IHRydWU7CiAgICAgIHN0YXRlLnVzZXJJbmZvID0gdXNlckluZm87CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICB1c2VyQ29uZmlybTogZnVuY3Rpb24gdXNlckNvbmZpcm0oX3JlZiwgdXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dpbih1c2VyLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzcG9uc2UuZGF0YVsiYWNjZXNzLXRva2VuIl07CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfSVNfTE9HSU4iLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9JU19MT0dJTl9FUlJPUiIsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJhY2Nlc3MtdG9rZW4iLCB0b2tlbik7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfSVNfTE9HSU4iLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfSVNfTE9HSU5fRVJST1IiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge30pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKF9yZWYyLCB0b2tlbikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICB2YXIgZGVjb2RlX3Rva2VuID0gand0X2RlY29kZSh0b2tlbik7CiAgICAgIGZpbmRCeUlkKGRlY29kZV90b2tlbi51c2VyaWQsIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgY29tbWl0KCJTRVRfVVNFUl9JTkZPIiwgcmVzcG9uc2UuZGF0YS51c2VySW5mbyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLsnKDsoIAg7KCV67O0IOyXhuydjCEhIik7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgbWVtYmVyU3RvcmU7"},{"version":3,"sources":["C:/SSAFY/FinalPJT/web_project_ssafy/web_ssafy/src/store/modules/memberStore.js"],"names":["jwt_decode","login","findById","memberStore","namespaced","state","isLogin","isLoginError","userInfo","getters","checkUserInfo","mutations","SET_IS_LOGIN","SET_IS_LOGIN_ERROR","SET_USER_INFO","actions","userConfirm","user","commit","response","data","message","token","sessionStorage","setItem","getUserInfo","decode_token","userid","console","log","error"],"mappings":";;AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,UAAU,EAAE,IADM;AAElBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,KADJ;AAELC,IAAAA,YAAY,EAAE,KAFT;AAGLC,IAAAA,QAAQ,EAAE;AAHL,GAFW;AAOlBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAE,uBAAUL,KAAV,EAAiB;AAC9B,aAAOA,KAAK,CAACG,QAAb;AACD;AAHM,GAPS;AAYlBG,EAAAA,SAAS,EAAE;AACTC,IAAAA,YAAY,EAAE,sBAACP,KAAD,EAAQC,OAAR,EAAoB;AAChCD,MAAAA,KAAK,CAACC,OAAN,GAAgBA,OAAhB;AACD,KAHQ;AAITO,IAAAA,kBAAkB,EAAE,4BAACR,KAAD,EAAQE,YAAR,EAAyB;AAC3CF,MAAAA,KAAK,CAACE,YAAN,GAAqBA,YAArB;AACD,KANQ;AAOTO,IAAAA,aAAa,EAAE,uBAACT,KAAD,EAAQG,QAAR,EAAqB;AAClCH,MAAAA,KAAK,CAACC,OAAN,GAAgB,IAAhB;AACAD,MAAAA,KAAK,CAACG,QAAN,GAAiBA,QAAjB;AACD;AAVQ,GAZO;AAwBlBO,EAAAA,OAAO,EAAE;AACDC,IAAAA,WADC,6BACuBC,IADvB,EAC6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAhBC,gBAAAA,MAAgB,QAAhBA,MAAgB;AAAA;AAAA,uBAC5BjB,KAAK,CACTgB,IADS,EAET,UAACE,QAAD,EAAc;AACZ,sBAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,SAA9B,EAAyC;AACvC,wBAAIC,KAAK,GAAGH,QAAQ,CAACC,IAAT,CAAc,cAAd,CAAZ;AACAF,oBAAAA,MAAM,CAAC,cAAD,EAAiB,IAAjB,CAAN;AACAA,oBAAAA,MAAM,CAAC,oBAAD,EAAuB,KAAvB,CAAN;AACAK,oBAAAA,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAuCF,KAAvC;AACD,mBALD,MAKO;AACLJ,oBAAAA,MAAM,CAAC,cAAD,EAAiB,KAAjB,CAAN;AACAA,oBAAAA,MAAM,CAAC,oBAAD,EAAuB,IAAvB,CAAN;AACD;AACF,iBAZQ,EAaT,YAAM,CAAE,CAbC,CADuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBnC,KAjBM;AAkBPO,IAAAA,WAlBO,8BAkBiBH,KAlBjB,EAkBwB;AAAA,UAAjBJ,MAAiB,SAAjBA,MAAiB;AAC7B,UAAIQ,YAAY,GAAG1B,UAAU,CAACsB,KAAD,CAA7B;AACApB,MAAAA,QAAQ,CACNwB,YAAY,CAACC,MADP,EAEN,UAACR,QAAD,EAAc;AACZ,YAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,SAA9B,EAAyC;AACvCH,UAAAA,MAAM,CAAC,eAAD,EAAkBC,QAAQ,CAACC,IAAT,CAAcZ,QAAhC,CAAN;AACD,SAFD,MAEO;AACLoB,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD;AACF,OARK,EASN,UAACC,KAAD,EAAW;AACTF,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,OAXK,CAAR;AAaD;AAjCM;AAxBS,CAApB;AA6DA,eAAe3B,WAAf","sourcesContent":["import jwt_decode from \"jwt-decode\";\r\nimport { login } from \"@/api/member.js\";\r\nimport { findById } from \"../../api/member\";\r\n\r\nconst memberStore = {\r\n  namespaced: true,\r\n  state: {\r\n    isLogin: false,\r\n    isLoginError: false,\r\n    userInfo: null,\r\n  },\r\n  getters: {\r\n    checkUserInfo: function (state) {\r\n      return state.userInfo;\r\n    },\r\n  },\r\n  mutations: {\r\n    SET_IS_LOGIN: (state, isLogin) => {\r\n      state.isLogin = isLogin;\r\n    },\r\n    SET_IS_LOGIN_ERROR: (state, isLoginError) => {\r\n      state.isLoginError = isLoginError;\r\n    },\r\n    SET_USER_INFO: (state, userInfo) => {\r\n      state.isLogin = true;\r\n      state.userInfo = userInfo;\r\n    },\r\n  },\r\n  actions: {\r\n    async userConfirm({ commit }, user) {\r\n      await login(\r\n        user,\r\n        (response) => {\r\n          if (response.data.message === \"success\") {\r\n            let token = response.data[\"access-token\"];\r\n            commit(\"SET_IS_LOGIN\", true);\r\n            commit(\"SET_IS_LOGIN_ERROR\", false);\r\n            sessionStorage.setItem(\"access-token\", token);\r\n          } else {\r\n            commit(\"SET_IS_LOGIN\", false);\r\n            commit(\"SET_IS_LOGIN_ERROR\", true);\r\n          }\r\n        },\r\n        () => {}\r\n      );\r\n    },\r\n    getUserInfo({ commit }, token) {\r\n      let decode_token = jwt_decode(token);\r\n      findById(\r\n        decode_token.userid,\r\n        (response) => {\r\n          if (response.data.message === \"success\") {\r\n            commit(\"SET_USER_INFO\", response.data.userInfo);\r\n          } else {\r\n            console.log(\"유저 정보 없음!!\");\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n    },\r\n  },\r\n};\r\n\r\nexport default memberStore;\r\n"]}]}